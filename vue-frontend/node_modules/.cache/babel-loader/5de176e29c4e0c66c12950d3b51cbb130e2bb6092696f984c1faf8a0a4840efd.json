{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, withKeys as _withKeys } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ai-chat-container\"\n};\nconst _hoisted_2 = {\n  class: \"session-list\"\n};\nconst _hoisted_3 = {\n  class: \"session-list-header\"\n};\nconst _hoisted_4 = {\n  class: \"session-list-ul\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"chat-section\"\n};\nconst _hoisted_7 = {\n  class: \"top-bar\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  class: \"chat-messages\",\n  ref: \"messagesRef\"\n};\nconst _hoisted_10 = {\n  class: \"message-header\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = [\"innerHTML\"];\nconst _hoisted_13 = {\n  class: \"chat-input\"\n};\nconst _hoisted_14 = [\"disabled\"];\nconst _hoisted_15 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 左侧会话列表 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"会话列表\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"new-chat-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.createNewSession && $setup.createNewSession(...args))\n  }, \"＋ 新聊天\")]), _createElementVNode(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.sessions, session => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: session.id,\n      class: _normalizeClass(['session-item', {\n        active: $setup.currentSessionId === session.id\n      }]),\n      onClick: $event => $setup.switchSession(session.id)\n    }, _toDisplayString(session.name || `会话 ${session.id}`), 11 /* TEXT, CLASS, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" 右侧聊天区域 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    class: \"back-btn\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.push('/menu'))\n  }, \"← 返回\"), _createElementVNode(\"button\", {\n    class: \"sync-btn\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.syncHistory && $setup.syncHistory(...args)),\n    disabled: !$setup.currentSessionId || $setup.tempSession\n  }, \"同步历史数据\", 8 /* PROPS */, _hoisted_8), _cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"modelType\"\n  }, \"选择模型：\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"modelType\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.selectedModel = $event),\n    class: \"model-select\"\n  }, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"option\", {\n    value: \"1\"\n  }, \"阿里百炼\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"2\"\n  }, \"豆包\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"3\"\n  }, \"百炼RAG\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"4\"\n  }, \"阿里百炼MCP\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.selectedModel]])]), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentMessages, (message, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass(['message', message.role === 'user' ? 'user-message' : 'ai-message'])\n    }, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"b\", null, _toDisplayString(message.role === 'user' ? '你' : 'AI') + \":\", 1 /* TEXT */), message.role === 'assistant' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"tts-btn\",\n      onClick: $event => $setup.playTTS(message.content)\n    }, \"🔊\", 8 /* PROPS */, _hoisted_11)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", {\n      class: \"message-content\",\n      innerHTML: $setup.renderMarkdown(message.content)\n    }, null, 8 /* PROPS */, _hoisted_12)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.inputMessage = $event),\n    placeholder: \"请输入你的问题...\",\n    onKeydown: _cache[5] || (_cache[5] = _withKeys(_withModifiers((...args) => $setup.sendMessage && $setup.sendMessage(...args), [\"exact\", \"prevent\"]), [\"enter\"])),\n    disabled: $setup.loading,\n    ref: \"messageInput\",\n    rows: \"1\"\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_14), [[_vModelText, $setup.inputMessage]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    disabled: !$setup.inputMessage.trim() || $setup.loading,\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.sendMessage && $setup.sendMessage(...args)),\n    class: \"send-btn\"\n  }, _toDisplayString($setup.loading ? '发送中...' : '发送'), 9 /* TEXT, PROPS */, _hoisted_15)])])]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$setup","createNewSession","_hoisted_4","_Fragment","_renderList","sessions","session","key","id","_normalizeClass","active","currentSessionId","$event","switchSession","name","_hoisted_5","_hoisted_6","_hoisted_7","_ctx","$router","push","syncHistory","disabled","tempSession","_hoisted_8","for","selectedModel","value","_hoisted_9","currentMessages","message","index","role","_hoisted_10","_toDisplayString","playTTS","content","_hoisted_11","innerHTML","renderMarkdown","_hoisted_13","inputMessage","placeholder","onKeydown","_withKeys","_withModifiers","sendMessage","loading","rows","type","trim","_hoisted_15"],"sources":["/root/GopherAI/GopherAI-/vue-frontend/src/views/AIChat.vue"],"sourcesContent":["<template>\n  <div class=\"ai-chat-container\">\n    <!-- 左侧会话列表 -->\n    <div class=\"session-list\">\n      <div class=\"session-list-header\">\n        <span>会话列表</span>\n        <button class=\"new-chat-btn\" @click=\"createNewSession\">＋ 新聊天</button>\n      </div>\n      <ul class=\"session-list-ul\">\n        <li\n          v-for=\"session in sessions\"\n          :key=\"session.id\"\n          :class=\"['session-item', { active: currentSessionId === session.id }]\"\n          @click=\"switchSession(session.id)\"\n        >\n          {{ session.name || `会话 ${session.id}` }}\n        </li>\n      </ul>\n    </div>\n\n    <!-- 右侧聊天区域 -->\n    <div class=\"chat-section\">\n      <div class=\"top-bar\">\n        <button class=\"back-btn\" @click=\"$router.push('/menu')\">← 返回</button>\n        <button class=\"sync-btn\" @click=\"syncHistory\" :disabled=\"!currentSessionId || tempSession\">同步历史数据</button>\n        <label for=\"modelType\">选择模型：</label>\n        <select id=\"modelType\" v-model=\"selectedModel\" class=\"model-select\">\n          <option value=\"1\">阿里百炼</option>\n          <option value=\"2\">豆包</option>\n          <option value=\"3\">百炼RAG</option>\n          <option value=\"4\">阿里百炼MCP</option>\n        </select>\n      </div>\n\n      <div class=\"chat-messages\" ref=\"messagesRef\">\n        <div\n          v-for=\"(message, index) in currentMessages\"\n          :key=\"index\"\n          :class=\"['message', message.role === 'user' ? 'user-message' : 'ai-message']\"\n        >\n          <div class=\"message-header\">\n            <b>{{ message.role === 'user' ? '你' : 'AI' }}:</b>\n            <button v-if=\"message.role === 'assistant'\" class=\"tts-btn\" @click=\"playTTS(message.content)\">🔊</button>\n          </div>\n          <div class=\"message-content\" v-html=\"renderMarkdown(message.content)\"></div>\n        </div>\n      </div>\n\n      <div class=\"chat-input\">\n        <textarea\n          v-model=\"inputMessage\"\n          placeholder=\"请输入你的问题...\"\n          @keydown.enter.exact.prevent=\"sendMessage\"\n          :disabled=\"loading\"\n          ref=\"messageInput\"\n          rows=\"1\"\n        ></textarea>\n        <button\n          type=\"button\"\n          :disabled=\"!inputMessage.trim() || loading\"\n          @click=\"sendMessage\"\n          class=\"send-btn\"\n        >\n          {{ loading ? '发送中...' : '发送' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, nextTick, computed, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport api from '../utils/api'\n\nexport default {\n  name: 'AIChat',\n  setup() {\n    const sessions = ref({})\n    const currentSessionId = ref(null)\n    const tempSession = ref(false)\n    const currentMessages = ref([])\n    const inputMessage = ref('')\n    const loading = ref(false)\n    const messagesRef = ref()\n    const messageInput = ref()\n    const selectedModel = ref('1')\n\n    // Markdown渲染函数（简化版）\n    const renderMarkdown = (text) => {\n      return text\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        .replace(/`(.*?)`/g, '<code>$1</code>')\n        .replace(/\\n/g, '<br>')\n    }\n\n    const playTTS = async (text) => {\n      try {\n        const response = await api.post('/chat/tts', { text })\n        if (response.data.status_code === 1000 && response.data.url) {\n          const audio = new Audio(response.data.url)\n          audio.play()\n        } else {\n          ElMessage.error('无法获取语音')\n        }\n      } catch (error) {\n        console.error('TTS error:', error)\n        ElMessage.error('请求语音接口失败')\n      }\n    }\n\n    const loadSessions = async () => {\n      try {\n        const response = await api.get('/chat/sessions')\n        if (response.data.status_code === 1000 && Array.isArray(response.data.sessions)) {\n          const sessionMap = {}\n          response.data.sessions.forEach(s => {\n            const sid = String(s.sessionId)\n            sessionMap[sid] = {\n              id: sid,\n              name: s.name || `会话 ${sid}`,\n              messages: []\n            }\n          })\n          sessions.value = sessionMap\n        }\n      } catch (error) {\n        console.error('Load sessions error:', error)\n      }\n    }\n\n    const createNewSession = () => {\n      currentSessionId.value = 'temp'\n      tempSession.value = true\n      currentMessages.value = []\n    }\n\n    const switchSession = async (sessionId) => {\n      currentSessionId.value = String(sessionId)\n      tempSession.value = false\n\n      if (!sessions.value[sessionId].messages || sessions.value[sessionId].messages.length === 0) {\n        try {\n          const response = await api.post('/chat/history', { sessionId: currentSessionId.value })\n          if (response.data.status_code === 1000 && Array.isArray(response.data.history)) {\n            const messages = []\n            response.data.history.forEach(item => {\n              messages.push({\n                role: item.is_user ? 'user' : 'assistant',\n                content: item.content\n              })\n            })\n            sessions.value[sessionId].messages = messages\n          }\n        } catch (error) {\n          console.error('Load history error:', error)\n        }\n      }\n\n      currentMessages.value = sessions.value[sessionId].messages || []\n      await nextTick()\n      scrollToBottom()\n    }\n\n    const syncHistory = async () => {\n      if (!currentSessionId.value || tempSession.value) {\n        ElMessage.warning('请选择已有会话进行同步')\n        return\n      }\n\n      try {\n        const response = await api.post('/chat/history', { sessionId: currentSessionId.value })\n        if (response.data.status_code === 1000 && Array.isArray(response.data.history)) {\n          const messages = []\n          response.data.history.forEach(item => {\n            messages.push({\n              role: item.is_user ? 'user' : 'assistant',\n              content: item.content\n            })\n          })\n          sessions.value[currentSessionId.value].messages = messages\n          currentMessages.value = messages\n          await nextTick()\n          scrollToBottom()\n        } else {\n          ElMessage.error('无法获取历史数据')\n        }\n      } catch (error) {\n        console.error('Sync history error:', error)\n        ElMessage.error('请求历史数据失败')\n      }\n    }\n\n    const sendMessage = async () => {\n      if (!inputMessage.value.trim()) {\n        ElMessage.warning('请输入消息内容')\n        return\n      }\n\n      const userMessage = {\n        role: 'user',\n        content: inputMessage.value\n      }\n      currentMessages.value.push(userMessage)\n      const currentInput = inputMessage.value\n      inputMessage.value = ''\n\n      await nextTick()\n      scrollToBottom()\n\n      try {\n        loading.value = true\n\n        if (tempSession.value) {\n          // 新会话\n          const response = await api.post('/chat/send-new-session', {\n            question: currentInput,\n            modelType: selectedModel.value\n          })\n\n          if (response.data.status_code === 1000) {\n            const sessionId = String(response.data.sessionId)\n            const aiMessage = {\n              role: 'assistant',\n              content: response.data.Information\n            }\n\n            sessions.value[sessionId] = {\n              id: sessionId,\n              name: '新会话',\n              messages: [userMessage, aiMessage]\n            }\n\n            currentSessionId.value = sessionId\n            tempSession.value = false\n            currentMessages.value = [userMessage, aiMessage]\n          } else {\n            ElMessage.error(response.data.status_msg || '发送失败')\n            currentMessages.value.pop() // 移除用户消息\n          }\n        } else {\n          // 继续会话\n          sessions.value[currentSessionId.value].messages.push(userMessage)\n\n          const response = await api.post('/chat/send', {\n            question: currentInput,\n            modelType: selectedModel.value,\n            sessionId: currentSessionId.value\n          })\n\n          if (response.data.status_code === 1000) {\n            const aiMessage = {\n              role: 'assistant',\n              content: response.data.Information\n            }\n            currentMessages.value.push(aiMessage)\n            sessions.value[currentSessionId.value].messages.push(aiMessage)\n          } else {\n            ElMessage.error(response.data.status_msg || '发送失败')\n            sessions.value[currentSessionId.value].messages.pop() // 移除用户消息\n            currentMessages.value.pop()\n          }\n        }\n      } catch (error) {\n        console.error('Send message error:', error)\n        ElMessage.error('发送失败，请重试')\n        if (!tempSession.value) {\n          sessions.value[currentSessionId.value].messages.pop()\n        }\n        currentMessages.value.pop()\n      } finally {\n        loading.value = false\n        await nextTick()\n        scrollToBottom()\n      }\n    }\n\n    const scrollToBottom = () => {\n      if (messagesRef.value) {\n        messagesRef.value.scrollTop = messagesRef.value.scrollHeight\n      }\n    }\n\n    onMounted(() => {\n      loadSessions()\n    })\n\n    return {\n      sessions: computed(() => Object.values(sessions.value)),\n      currentSessionId,\n      tempSession,\n      currentMessages,\n      inputMessage,\n      loading,\n      messagesRef,\n      messageInput,\n      selectedModel,\n      renderMarkdown,\n      playTTS,\n      createNewSession,\n      switchSession,\n      syncHistory,\n      sendMessage\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ai-chat-container {\n  min-height: 100vh;\n  display: flex;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  position: relative;\n  overflow: hidden;\n}\n\n.ai-chat-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><circle cx=\"20\" cy=\"20\" r=\"2\" fill=\"rgba(255,255,255,0.1)\"/><circle cx=\"80\" cy=\"80\" r=\"2\" fill=\"rgba(255,255,255,0.1)\"/><circle cx=\"40\" cy=\"60\" r=\"1\" fill=\"rgba(255,255,255,0.1)\"/><circle cx=\"60\" cy=\"30\" r=\"1.5\" fill=\"rgba(255,255,255,0.1)\"/></svg>');\n  animation: float 20s ease-in-out infinite;\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px) rotate(0deg); }\n  50% { transform: translateY(-20px) rotate(180deg); }\n}\n\n.session-list {\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(15px);\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 2;\n}\n\n.session-list-header {\n  padding: 20px;\n  text-align: center;\n  font-weight: 600;\n  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(103, 194, 58, 0.1) 100%);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.new-chat-btn {\n  width: 100%;\n  padding: 12px 0;\n  cursor: pointer;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 600;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.new-chat-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n  transition: left 0.5s;\n}\n\n.new-chat-btn:hover::before {\n  left: 100%;\n}\n\n.new-chat-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\n}\n\n.session-list-ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  flex: 1;\n  overflow-y: auto;\n}\n\n.session-item {\n  padding: 15px 20px;\n  cursor: pointer;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.session-item.active {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  font-weight: 600;\n  box-shadow: inset 0 0 20px rgba(102, 126, 234, 0.3);\n}\n\n.session-item:hover {\n  background: rgba(102, 126, 234, 0.1);\n  transform: translateX(5px);\n}\n\n.chat-section {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 1;\n}\n\n.top-bar {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  color: #2c3e50;\n  display: flex;\n  align-items: center;\n  padding: 0 30px;\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 2;\n}\n\n.back-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  color: #2c3e50;\n  padding: 10px 20px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.back-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n}\n\n.sync-btn {\n  background: linear-gradient(135deg, #67c23a 0%, #409eff 100%);\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  box-shadow: 0 4px 15px rgba(103, 194, 58, 0.3);\n  transition: all 0.3s ease;\n  margin-left: 15px;\n}\n\n.sync-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(103, 194, 58, 0.4);\n}\n\n.sync-btn:disabled {\n  background: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.model-select {\n  margin-left: 20px;\n  padding: 8px 12px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  background: white;\n  color: #2c3e50;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.model-select:hover {\n  border-color: #409eff;\n  box-shadow: 0 0 10px rgba(64, 158, 255, 0.2);\n}\n\n.chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 30px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  position: relative;\n  z-index: 1;\n}\n\n.chat-messages::-webkit-scrollbar {\n  width: 6px;\n}\n\n.chat-messages::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 3px;\n}\n\n.chat-messages::-webkit-scrollbar-thumb {\n  background: rgba(102, 126, 234, 0.3);\n  border-radius: 3px;\n}\n\n.chat-messages::-webkit-scrollbar-thumb:hover {\n  background: rgba(102, 126, 234, 0.5);\n}\n\n.message {\n  max-width: 70%;\n  padding: 16px 20px;\n  border-radius: 20px;\n  line-height: 1.6;\n  word-wrap: break-word;\n  position: relative;\n  animation: messageSlideIn 0.4s ease-out;\n  font-size: 15px;\n}\n\n@keyframes messageSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.user-message {\n  align-self: flex-end;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);\n  position: relative;\n}\n\n.user-message::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  right: 20px;\n  width: 0;\n  height: 0;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid #764ba2;\n}\n\n.ai-message {\n  align-self: flex-start;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  color: #2c3e50;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  position: relative;\n}\n\n.ai-message::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 20px;\n  width: 0;\n  height: 0;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid rgba(255, 255, 255, 0.95);\n}\n\n.message-header {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 8px;\n}\n\n.message-header b {\n  font-weight: 600;\n}\n\n.tts-btn {\n  padding: 6px 10px;\n  border-radius: 8px;\n  font-size: 12px;\n  cursor: pointer;\n  background: linear-gradient(135deg, #67c23a 0%, #409eff 100%);\n  color: white;\n  border: none;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(103, 194, 58, 0.3);\n}\n\n.tts-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 4px 15px rgba(103, 194, 58, 0.4);\n}\n\n.message-content {\n  flex: 1;\n}\n\n.chat-input {\n  padding: 30px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 1;\n}\n\n.chat-input textarea {\n  width: 100%;\n  resize: none;\n  border: 2px solid rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  padding: 15px 20px;\n  font-size: 16px;\n  outline: none;\n  background: rgba(255, 255, 255, 0.8);\n  color: #2c3e50;\n  transition: all 0.3s ease;\n  min-height: 20px;\n  max-height: 120px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.chat-input textarea:focus {\n  border-color: #409eff;\n  box-shadow: 0 0 15px rgba(64, 158, 255, 0.2);\n  background: white;\n  transform: translateY(-2px);\n}\n\n.send-btn {\n  position: absolute;\n  right: 45px;\n  bottom: 45px;\n  padding: 12px 24px;\n  border: none;\n  border-radius: 50px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n  transition: all 0.3s ease;\n}\n\n.send-btn:hover:not(:disabled) {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\n}\n\n.send-btn:disabled {\n  background: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* 滚动条样式 */\n.session-list-ul::-webkit-scrollbar {\n  width: 6px;\n}\n\n.session-list-ul::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 3px;\n}\n\n.session-list-ul::-webkit-scrollbar-thumb {\n  background: rgba(102, 126, 234, 0.3);\n  border-radius: 3px;\n}\n\n.session-list-ul::-webkit-scrollbar-thumb:hover {\n  background: rgba(102, 126, 234, 0.5);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}